{"ast":null,"code":"var _jsxFileName = \"/home/jonas/Projeto-final-banco2/Projeto-final-banco2/frontend/src/pages/Catalog/index.js\";\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../global.css';\nimport api from '../../services/api';\nexport default function Catalog() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    api.get('users').then(response => {\n      setUsers(response.data);\n    });\n  });\n\n  async function deleteUser(id) {\n    try {\n      await api.delete(`users/${id}`);\n      setUsers(users.filter(users => users.id != id));\n    } catch (err) {\n      alert(\"Erro ao deletar o usuário!\");\n    }\n  }\n\n  function editUser(data) {\n    localStorage.setItem('userId', data._id);\n    localStorage.setItem('userName', data.name);\n    localStorage.setItem('userMatricula', data.matricula);\n    localStorage.setItem('userEmail', data.email);\n    localStorage.setItem('userCidade', data.cidade);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"escanteio\"\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"catalog-titulo\"\n  }, \"Estes s\\xE3o os DEVS\"), /*#__PURE__*/React.createElement(\"ul\", null, users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n    key: user.id\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-name\"\n  }, \"Nome: \", /*#__PURE__*/React.createElement(\"bold\", null, \" \", user.name)), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-matricula\"\n  }, \"Matr\\xEDcula: \", user.matricula), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-email\"\n  }, \"Email: \", user.email), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Link, {\n    to: \"/info\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-btn\",\n    type: \"button\",\n    onClick: () => editUser(user)\n  }, \"Ver informa\\xE7\\xF5es\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/editar\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-btn\",\n    type: \"button\",\n    onClick: () => editUser(user)\n  }, \"Editar\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-btn\",\n    onClick: () => deleteUser(user._id),\n    type: \"button\"\n  }, \"Deletar\")))));\n}","map":{"version":3,"sources":["/home/jonas/Projeto-final-banco2/Projeto-final-banco2/frontend/src/pages/Catalog/index.js"],"names":["React","useEffect","useState","Link","api","Catalog","users","setUsers","get","then","response","data","deleteUser","id","delete","filter","err","alert","editUser","localStorage","setItem","_id","name","matricula","email","cidade","map","user"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAO,kBAAP;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AAGA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,GAAG,CAACI,GAAJ,CAAQ,OAAR,EAAiBC,IAAjB,CAAsBC,QAAQ,IAAI;AAChCH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACD,KAFD;AAGD,GAJQ,CAAT;;AAMF,iBAAeC,UAAf,CAA0BC,EAA1B,EAA6B;AAC3B,QAAG;AACD,YAAMT,GAAG,CAACU,MAAJ,CAAY,SAAQD,EAAG,EAAvB,CAAN;AAEAN,MAAAA,QAAQ,CAACD,KAAK,CAACS,MAAN,CAAaT,KAAK,IAAIA,KAAK,CAACO,EAAN,IAAYA,EAAlC,CAAD,CAAR;AACD,KAJD,CAKA,OAAMG,GAAN,EAAU;AACRC,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACD;AACF;;AAED,WAASC,QAAT,CAAkBP,IAAlB,EAAuB;AACrBQ,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BT,IAAI,CAACU,GAAnC;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCT,IAAI,CAACW,IAArC;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAqCT,IAAI,CAACY,SAA1C;AACAJ,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCT,IAAI,CAACa,KAAtC;AACAL,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkCT,IAAI,CAACc,MAAvC;AACD;;AAGC,sBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,IADF,eAEE;AAAI,IAAA,SAAS,EAAC;AAAd,4BAFF,eAIC,gCACGnB,KAAK,CAACoB,GAAN,CAAUC,IAAI,iBACd;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACd;AAAd,kBACE;AAAO,IAAA,SAAS,EAAC;AAAjB,4BAAmC,uCAAQc,IAAI,CAACL,IAAb,CAAnC,CADF,eACsE,+BADtE,eAC2E,+BAD3E,eAEE;AAAO,IAAA,SAAS,EAAC;AAAjB,uBAA8CK,IAAI,CAACJ,SAAnD,CAFF,eAEuE,+BAFvE,eAE4E,+BAF5E,eAGE;AAAO,IAAA,SAAS,EAAC;AAAjB,gBAAsCI,IAAI,CAACH,KAA3C,CAHF,eAG2D,+BAH3D,eAGgE,+BAHhE,eAIE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC;AAAT,kBACI;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,IAAI,EAAC,QAAlC;AAA2C,IAAA,OAAO,EAAE,MAAMN,QAAQ,CAACS,IAAD;AAAlE,6BADJ,CAJF,eASI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC;AAAT,kBACE;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,IAAI,EAAC,QAAlC;AAA2C,IAAA,OAAO,EAAE,MAAMT,QAAQ,CAACS,IAAD;AAAlE,cADF,CATJ,eAcI;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAA+B,IAAA,OAAO,EAAE,MAAMf,UAAU,CAACe,IAAI,CAACN,GAAN,CAAxD;AAAoE,IAAA,IAAI,EAAC;AAAzE,eAdJ,CADA,CADH,CAJD,CADF;AA8BD","sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport '../../global.css';\nimport api from '../../services/api';\n\n\nexport default function Catalog() {\n  const [users, setUsers] = useState([]);\n  \n  useEffect(() => {\n    api.get('users').then(response => {\n      setUsers(response.data);\n    })\n  })\n\nasync function deleteUser(id){\n  try{\n    await api.delete(`users/${id}`);\n\n    setUsers(users.filter(users => users.id != id));\n  }\n  catch(err){\n    alert(\"Erro ao deletar o usuário!\");\n  }\n}\n\nfunction editUser(data){\n  localStorage.setItem('userId',data._id);\n  localStorage.setItem('userName',data.name);\n  localStorage.setItem('userMatricula',data.matricula);\n  localStorage.setItem('userEmail',data.email);\n  localStorage.setItem('userCidade',data.cidade);\n}\n\n\n  return (\n    <div className=\"main\">\n      <div className=\"escanteio\"></div>\n      <h1 className=\"catalog-titulo\">Estes são os DEVS</h1>\n      \n     <ul>\n       {users.map(user => (\n        <li key={user.id}>\n          <label className=\"card-name\">Nome: <bold> {user.name}</bold></label><br/><br/>\n          <label className=\"card-matricula\">Matrícula: {user.matricula}</label><br/><br/>\n          <label className=\"card-email\">Email: {user.email}</label><br/><br/>\n          <Link to=\"/info\">\n              <button className=\"edit-btn\" type=\"button\" onClick={() => editUser(user)}>\n                Ver informações\n              </button>\n            </Link>\n            <Link to=\"/editar\">\n              <button className=\"edit-btn\" type=\"button\" onClick={() => editUser(user)}>\n                Editar\n              </button>\n            </Link>\n            <button className=\"delete-btn\" onClick={() => deleteUser(user._id)} type=\"button\">\n              Deletar\n            </button>\n        </li>  \n       ))}\n     </ul>\n    \n    </div>\n  ); \n}"]},"metadata":{},"sourceType":"module"}