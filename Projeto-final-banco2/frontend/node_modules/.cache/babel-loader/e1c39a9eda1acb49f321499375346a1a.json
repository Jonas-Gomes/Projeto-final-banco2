{"ast":null,"code":"var _jsxFileName = \"/home/jonas/Projeto-final-banco2/Projeto-final-banco2/frontend/src/pages/Catalog/index.js\";\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../global.css';\nimport api from '../../services/api';\nexport default function Catalog() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    api.get('users').then(response => {\n      setUsers(response.data);\n    });\n  });\n\n  async function deleteUser(id, matricula) {\n    try {\n      await api.delete(`users/${id}`);\n      await api.delete(`user/${matricula}`);\n      setUsers(users.filter(users => users.id != id));\n    } catch (err) {\n      alert(\"Erro ao deletar o usuário!\");\n    }\n  }\n\n  function editUser(data) {\n    localStorage.setItem('userId', data._id);\n    localStorage.setItem('userName', data.name);\n    localStorage.setItem('userMatricula', data.matricula);\n    localStorage.setItem('userEmail', data.email);\n    localStorage.setItem('userCidade', data.cidade);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"escanteio\"\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"catalog-titulo\"\n  }, \"Estes s\\xE3o os DEVS\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/info\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"info-btn\",\n    type: \"button\"\n  }, \"Encontre os DEVs\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"logout-btn\",\n    type: \"button\"\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"ul\", null, users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n    key: user.id\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-name\"\n  }, \"Nome: \", user.name), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-matricula\"\n  }, \"Matr\\xEDcula: \", user.matricula), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"card-email\"\n  }, \"Email: \", user.email), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Link, {\n    to: \"/editar\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-btn\",\n    type: \"button\",\n    onClick: () => editUser(user)\n  }, \"Editar\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-btn\",\n    onClick: () => deleteUser(user._id, user.matricula),\n    type: \"button\"\n  }, \"Deletar\")))));\n}","map":{"version":3,"sources":["/home/jonas/Projeto-final-banco2/Projeto-final-banco2/frontend/src/pages/Catalog/index.js"],"names":["React","useEffect","useState","Link","api","Catalog","users","setUsers","get","then","response","data","deleteUser","id","matricula","delete","filter","err","alert","editUser","localStorage","setItem","_id","name","email","cidade","map","user"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport '../../global.css';\nimport api from '../../services/api';\n\n\nexport default function Catalog() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    api.get('users').then(response => {\n      setUsers(response.data);\n    })\n  })\n\nasync function deleteUser(id, matricula){\n  try{\n    await api.delete(`users/${id}`);\n    await api.delete(`user/${matricula}`)\n\n    setUsers(users.filter(users => users.id != id));\n  }\n  catch(err){\n    alert(\"Erro ao deletar o usuário!\");\n  }\n}\n\nfunction editUser(data){\n  localStorage.setItem('userId',data._id);\n  localStorage.setItem('userName',data.name);\n  localStorage.setItem('userMatricula',data.matricula);\n  localStorage.setItem('userEmail',data.email);\n  localStorage.setItem('userCidade',data.cidade);\n}\n\n  return (\n    <div className=\"main\">\n      <div className=\"escanteio\"></div>\n      <h1 className=\"catalog-titulo\">Estes são os DEVS</h1>\n      \n      <Link to=\"/info\">\n        <button className=\"info-btn\" type=\"button\">\n          Encontre os DEVs\n        </button>\n      </Link>\n      <Link to=\"/\">\n        <button className=\"logout-btn\" type=\"button\">\n          Logout\n        </button>\n      </Link>\n     <ul>\n       {users.map(user => (\n        <li key={user.id}>\n          <label className=\"card-name\">Nome: {user.name}</label><br/><br/>\n          <label className=\"card-matricula\">Matrícula: {user.matricula}</label><br/><br/>\n          <label className=\"card-email\">Email: {user.email}</label><br/><br/>\n            <Link to=\"/editar\">\n              <button className=\"edit-btn\" type=\"button\" onClick={() => editUser(user)}>\n                Editar\n              </button>\n            </Link>\n            <button className=\"delete-btn\" onClick={() => deleteUser(user._id, user.matricula)} type=\"button\">\n              Deletar\n            </button>\n        </li>\n       ))}\n     </ul>\n    \n    </div>\n  ); \n}"]},"metadata":{},"sourceType":"module"}